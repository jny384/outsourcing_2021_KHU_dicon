{"ast":null,"code":"const express = require(\"express\");\n\nconst upload = require('./views/admin/uplaod');\n\nconst multer = require('multer');\n\nconst router = express.Router();\nrouter.post(\"api/upload\", (req, res, next) => {\n  // FormData의 경우 req로 부터 데이터를 얻을수 없다.\n  // upload 핸들러(multer)를 통해서 데이터를 읽을 수 있다\n  upload(req, res, function (err) {\n    if (err instanceof multer.MulterError) {\n      return next(err);\n    } else if (err) {\n      return next(err);\n    }\n\n    console.log('원본파일명 : ' + req.file.originalname);\n    console.log('저장파일명 : ' + req.file.filename);\n    console.log('크기 : ' + req.file.size); // console.log('경로 : ' + req.file.location) s3 업로드시 업로드 url을 가져옴\n\n    return res.json({\n      success: 1\n    });\n  });\n});","map":{"version":3,"sources":["/Users/jeongnayeong/Desktop/2021_KHU_dicon_/outsourcing_2021_KHU_dicon/src/App.js"],"names":["express","require","upload","multer","router","Router","post","req","res","next","err","MulterError","console","log","file","originalname","filename","size","json","success"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,sBAAD,CAAtB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,QAAD,CAAtB;;AAEA,MAAMG,MAAM,GAAGJ,OAAO,CAACK,MAAR,EAAf;AAEAD,MAAM,CAACE,IAAP,CAAY,YAAZ,EAA0B,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC1C;AACA;AAEAP,EAAAA,MAAM,CAACK,GAAD,EAAMC,GAAN,EAAW,UAASE,GAAT,EAAc;AAC3B,QAAIA,GAAG,YAAYP,MAAM,CAACQ,WAA1B,EAAuC;AACnC,aAAOF,IAAI,CAACC,GAAD,CAAX;AACH,KAFD,MAEO,IAAIA,GAAJ,EAAS;AACZ,aAAOD,IAAI,CAACC,GAAD,CAAX;AACH;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAaN,GAAG,CAACO,IAAJ,CAASC,YAAlC;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAaN,GAAG,CAACO,IAAJ,CAASE,QAAlC;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAUN,GAAG,CAACO,IAAJ,CAASG,IAA/B,EAR2B,CAS3B;;AACA,WAAOT,GAAG,CAACU,IAAJ,CAAS;AAACC,MAAAA,OAAO,EAAC;AAAT,KAAT,CAAP;AACH,GAXK,CAAN;AAYH,CAhBD","sourcesContent":["const express = require(\"express\");\nconst upload = require('./views/admin/uplaod');\nconst multer = require('multer');\n\nconst router = express.Router();\n\nrouter.post(\"api/upload\", (req, res, next) => {\n    // FormData의 경우 req로 부터 데이터를 얻을수 없다.\n    // upload 핸들러(multer)를 통해서 데이터를 읽을 수 있다\n\n    upload(req, res, function(err) {\n        if (err instanceof multer.MulterError) {\n            return next(err);\n        } else if (err) {\n            return next(err);\n        }\n        console.log('원본파일명 : ' + req.file.originalname)\n        console.log('저장파일명 : ' + req.file.filename)\n        console.log('크기 : ' + req.file.size)\n        // console.log('경로 : ' + req.file.location) s3 업로드시 업로드 url을 가져옴\n        return res.json({success:1});\n    });\n});"]},"metadata":{},"sourceType":"module"}