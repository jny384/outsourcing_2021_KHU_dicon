{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jeongnayeong/Desktop/2021_KHU_dicon_/outsourcing_2021_KHU_dicon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jeongnayeong/Desktop/2021_KHU_dicon_/outsourcing_2021_KHU_dicon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jeongnayeong/Desktop/2021_KHU_dicon_/outsourcing_2021_KHU_dicon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import PostGuestBook from\"../../components/firebase/postGuestBook\";import GetGuestBook from\"../../components/firebase/getGuestBook\";import'./guestBook.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function GuestBook(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),writer=_useState2[0],setWriter=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),inputData=_useState8[0],setInputData=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),length=_useState10[0],setLength=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),check=_useState12[0],setCheck=_useState12[1];// const [clicked, setClicked] = useState(false);\nuseEffect(function(){exec();// console.log('guestInput : ',inputData);\n},[]);function exec(){return _exec.apply(this,arguments);}function _exec(){_exec=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return GetGuestBook();case 2:data=_context2.sent;_context2.next=5;return setInputData(data);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _exec.apply(this,arguments);}var onWriterChange=function onWriterChange(e){var today=new Date();var month=today.getMonth()+1;// 월\nvar date=today.getDate();// 날짜\nsetDate(month+'-'+date);setWriter(e.target.value);};var onContentChange=function onContentChange(e){// if (e.target.value.length === 0) {\n//     setCheck(false);\n// }\n// if (e.target.value.length > 250) {\n//     setCheck(false);\n// } else {\n//     setCheck(true);\n// }\n// setLength(e.target.value.length)\nsetContent(e.target.value);};var onPost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(check===true)){_context.next=5;break;}_context.next=3;return PostGuestBook(writer,date,content);case 3:_context.next=5;return window.location.reload();case 5:case\"end\":return _context.stop();}}},_callee);}));return function onPost(){return _ref.apply(this,arguments);};}();var setActive=function setActive(){setCheck(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guestBook_main\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"guestBook_title\",children:\" Guest_Book \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"guest_list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"list_box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input_box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input_top\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input_name\",placeholder:\"\\uC774\\uB984\",onChange:onWriterChange})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{onClick:setActive,className:\"input_content\",name:\"guest_content\",placeholder:\"\\uB0B4\\uC6A9 \\uC791\\uC131\\uB780\\uC785\\uB2C8\\uB2E4.\\r\\n\\uBE44\\uBC29, \\uC695\\uC124, \\uAD11\\uACE0\\uAE00 \\uC791\\uC131 \\uC2DC \\uC0AD\\uC81C\\uB420 \\uC218 \\uC788\\uC73C\\uBA70,\\r\\n\\uD55C \\uBC88 \\uC791\\uC131\\uB41C \\uAE00\\uC740 \\uC218\\uC815\\uD560 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\",onChange:onContentChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"input_bottom\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"check_length\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"trash_gone\",children:[\" \",length,\"/250\"]})}),/*#__PURE__*/_jsx(\"button\",{className:check?\"input_btn\":\"unactive_btn\",onClick:onPost,children:\"\\uB4F1\\uB85D\"})]})]})}),inputData.map(function(item,index){if(inputData.length>0){return/*#__PURE__*/ (// <li className=\"grid_list\">\n_jsx(\"div\",{className:\"list_box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"guest_box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guest_top\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"guest_name\",children:item.writer}),/*#__PURE__*/_jsx(\"span\",{className:\"guest_date\",children:item.date})]}),/*#__PURE__*/_jsx(\"div\",{className:\"guest_content\",children:/*#__PURE__*/_jsxs(\"span\",{children:[\" \",item.content,\" \"]})})]})}));}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer_book\",children:/*#__PURE__*/_jsx(\"p\",{id:\"footer_text\",children:\"KyungHee Univ. Dicon 2021 Degree Show \"})})]});}var style={main:{width:'100vw',overflow:'auto',height:'auto',display:'grid',// flexDirection: 'row',\ngridColumnGap:'23px',gridRowGap:'50px',gridTemplateColumns:'repeat(2, 1fr)',minHeight:'100vh'},guest_input:{width:'330px',height:'330px',display:'flex',backgroundColor:'#C4C4C4',flexDirection:'column',justifyContent:'center',alignItems:'center'},guest_name:{width:'290px',height:'30px'},guest_book:{width:'290px',height:'200px'},content:{width:'330px',height:'330px',fontsize:'18px',backgroundColor:'#C4C4C4',margin:'20px',textAlign:'center',display:'grid',gridRowGap:'50px',gridTemplateColumns:'repeat(2, 1fr)'},outerBox:{display:'flex',flexDirection:'row'}};","map":{"version":3,"sources":["/Users/jeongnayeong/Desktop/2021_KHU_dicon_/outsourcing_2021_KHU_dicon/src/views/guest/guestBook.js"],"names":["React","useEffect","useState","PostGuestBook","GetGuestBook","GuestBook","writer","setWriter","content","setContent","date","setDate","inputData","setInputData","length","setLength","check","setCheck","exec","data","onWriterChange","e","today","Date","month","getMonth","getDate","target","value","onContentChange","onPost","window","location","reload","setActive","map","item","index","style","main","width","overflow","height","display","gridColumnGap","gridRowGap","gridTemplateColumns","minHeight","guest_input","backgroundColor","flexDirection","justifyContent","alignItems","guest_name","guest_book","fontsize","margin","textAlign","outerBox"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport PostGuestBook from \"../../components/firebase/postGuestBook\";\nimport GetGuestBook from \"../../components/firebase/getGuestBook\";\nimport './guestBook.css';\n\nexport default function GuestBook() {\n    const [writer, setWriter] = useState('');\n    const [content, setContent] = useState('');\n    const [date, setDate] = useState('');\n    const [inputData, setInputData] = useState([]);\n\n    const [length, setLength] = useState(0)\n    const [check, setCheck] = useState(false);\n\n    // const [clicked, setClicked] = useState(false);\n    useEffect(() => {\n        exec();\n        // console.log('guestInput : ',inputData);\n    }, [])\n\n    async function exec(){\n        const data =  await GetGuestBook();\n        // console.log(data.reverse());\n        await setInputData(data);\n    }\n\n    const onWriterChange = (e) => {\n        let today = new Date();\n\n        let month = today.getMonth() + 1;  // 월\n        let date = today.getDate();  // 날짜\n\n        setDate(month + '-' + date);\n        setWriter(e.target.value);\n    };\n\n    const onContentChange = (e) => {\n        // if (e.target.value.length === 0) {\n        //     setCheck(false);\n        // }\n        // if (e.target.value.length > 250) {\n        //     setCheck(false);\n        // } else {\n        //     setCheck(true);\n        // }\n        // setLength(e.target.value.length)\n        setContent(e.target.value);\n    };\n    const onPost = async () => {\n        if (check === true) {\n            await PostGuestBook(writer, date, content);\n            await window.location.reload();\n        }\n        // console.log(url);\n    };\n    const setActive = () => {\n        setCheck(true);\n    }\n\n    return (\n        <>\n            <div className=\"guestBook_main\">\n                <span className=\"guestBook_title\"> Guest_Book </span>\n                <div className=\"guest_list\">\n                    <div className=\"list_box\">\n                        <div className=\"input_box\">\n                            <div className=\"input_top\">\n                                <input className=\"input_name\" placeholder=\"이름\" onChange={onWriterChange}/>\n                                {/*<input className=\"input_date\" placeholder=\"날짜\" onChange={onDateChange}/>*/}\n                            </div>\n                            <div>\n                                <textarea onClick={setActive} className=\"input_content\" name=\"guest_content\" placeholder=\"내용 작성란입니다.&#13;&#10;비방, 욕설, 광고글 작성 시 삭제될 수 있으며,&#13;&#10;한 번 작성된 글은 수정할 수 없습니다.\" onChange={onContentChange}/>\n                            </div>\n                            <div className=\"input_bottom\">\n                                <div className=\"check_length\">\n                                    <span className=\"trash_gone\"> {length}/250</span>\n                                </div>\n                                <button className={check ? \"input_btn\" : \"unactive_btn\"} onClick={onPost}>등록</button>\n                            </div>\n                        </div>\n                    </div>\n                    {\n                        inputData.map((item, index) => {\n                            if (inputData.length > 0) {\n                                return (\n                                    // <li className=\"grid_list\">\n                                    <div className=\"list_box\">\n                                        <div className=\"guest_box\">\n                                            <div className=\"guest_top\">\n                                                <span className=\"guest_name\">{item.writer}</span>\n                                                <span className=\"guest_date\">{item.date}</span>\n                                            </div>\n                                            <div className=\"guest_content\">\n                                                <span> {item.content} </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                )\n                            }\n                        })\n                    }\n                </div>\n            </div>\n\n            <div className=\"footer_book\">\n                <p id=\"footer_text\" >KyungHee Univ. Dicon 2021 Degree Show </p>\n            </div>\n        </>\n    )\n}\n\nconst style = {\n    main : {\n        width: '100vw',\n        overflow: 'auto',\n        height: 'auto',\n        display: 'grid',\n        // flexDirection: 'row',\n        gridColumnGap: '23px',\n        gridRowGap: '50px',\n        gridTemplateColumns : 'repeat(2, 1fr)',\n        minHeight: '100vh'\n\n    },\n    guest_input : {\n        width : '330px',\n        height : '330px',\n        display: 'flex',\n        backgroundColor: '#C4C4C4',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center'\n\n    },\n    guest_name : {\n        width: '290px',\n        height: '30px'\n    },\n    guest_book : {\n        width : '290px',\n        height : '200px'\n    },\n    content: {\n        width: '330px',\n        height: '330px',\n        fontsize: '18px',\n        backgroundColor: '#C4C4C4',\n        margin: '20px',\n        textAlign: 'center',\n        display: 'grid',\n        gridRowGap: '50px',\n        gridTemplateColumns : 'repeat(2, 1fr)',\n\n    },\n    outerBox: {\n        display: 'flex',\n        flexDirection: 'row',\n    }\n}"]},"metadata":{},"sourceType":"module"}